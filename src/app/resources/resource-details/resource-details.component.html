<div class="details-content">
  <a *ngIf="resource" [routerLink]="['../../edit', resource.details[0].id]"><i class="fa fa-gear edit-btn"></i></a>
  <button class="mdl-button mdl-button--raised back-btn" (click)="back()">Powrót</button>
  <div class="mdl-grid h-30">
    <div class="mdl-cell mdl-cell--12-col">
      <div *ngIf="loaded" class="image-book"
           [ngStyle]="{'background-image':'url('+ url +'/images/thumb_' + resource.details[0].img + ')'}" [routerLink]="['../../full', resource.details[0].img]">
      </div>
    </div>
  </div>
  <hr>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet mdl-cell--2-col-tablet">
      <span class="app-header">Tytuł</span>
    </div>
    <div class="mdl-cell mdl-cell--10-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet mdl-cell--4-col-tablet">
      {{resource?.details[0].title}}
    </div>
  </div>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
      <span class="app-header">Autor</span>
    </div>
    <div class="mdl-cell mdl-cell--10-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
      {{resource?.details[0].author}}
    </div>
  </div>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
      <span class="app-header">Wydawca</span>
    </div>
    <div class="mdl-cell mdl-cell--10-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
      {{resource?.details[0].publishing}}
    </div>
  </div>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
      <span class="app-header">Typ</span>
    </div>
    <div class="mdl-cell mdl-cell--10-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
      {{resource?.details[0].type}}
    </div>
  </div>
  <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--2-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
      <span class="app-header">Dodano</span>
    </div>
    <div class="mdl-cell mdl-cell--10-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
      {{resource?.details[0].date | date: 'dd-MM-yyyy H:mm:ss'}}
    </div>
  </div>
  <hr>
  <div class="mdl-grid">
    <button [disabled]="isActiveBorrow(resource)" class="mdl-button mdl-button--raised" (click)="opedAddBorrowDialog()">
      Wypożycz
    </button>
  </div>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Wypożyczenia
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-list *ngIf="loaded">
      <mat-list-item *ngFor="let borrow of resource.borrows | orderBy:'borrowDate':true"
                     [ngClass]="{'return': !borrow.active}">
        <i class="fa fa-trash-o ico-action color-red" aria-hidden="true" (click)="deleteBorrow(borrow.id)"></i>
        <i class="fa fa-check-circle ico-action m-r-10 color-green" aria-hidden="true" *ngIf="borrow.active"
           (click)="setReturn(borrow.id)"></i>
        <div class="mdl-grid borrows">
          <div class="mdl-cell mdl-cell--12-col mdl-cell--4-col-phone mdl-cell--8-col-tablet">
            {{borrow.person}}
          </div>
        </div>
        <div class="mdl-grid borrows">
          <div class="mdl-cell mdl-cell--1-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
            <span class="app-header">Pożyczono</span>
          </div>
          <div class="mdl-cell mdl-cell--11-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
            {{borrow.borrowDate | date: 'dd-MM-yyyy H:mm:ss'}}
          </div>
        </div>
        <div class="mdl-grid borrows">
          <div class="mdl-cell mdl-cell--1-col mdl-cell--4-col-tablet mdl-cell--2-col-tablet">
            <span class="app-header">Oddano</span>
          </div>
          <div class="mdl-cell mdl-cell--11-col mdl-cell--4-col-tablet mdl-cell--6-col-tablet">
            {{borrow.returnDate | date: 'dd-MM-yyyy H:mm:ss' || '-'}}
          </div>
        </div>
      </mat-list-item>
    </mat-list>

  </mat-expansion-panel>
</div>
<router-outlet></router-outlet>
